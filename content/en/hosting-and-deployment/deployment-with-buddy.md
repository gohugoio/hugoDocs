---
title: Deployment with Buddy
linktitle: Deployment with Buddy
description: Use Buddy to easily deploy your Hugo site to any server or hosting provider whenever you add new content to your website.
date: 2022-01-18
publishdate: 2022-01-18
lastmod: 2022-01-18
categories: [hosting and deployment]
keywords: [buddy,ci/cd,deployment]
authors: [Tom Papiernik]
menu:
  docs:
    parent: "hosting-and-deployment"
    weight: 70
weight: 70
sections_weight: 70
draft: false
aliases: [/tutorials/deployment-with-buddy/]
toc: true
---

[Buddy](https://buddy.works/) is an easy-to-use CI/CD tool that allows you to automate the deployment of your site to different environments, such as private servers or commercial hosting providers such as Netlify, Heroku, AWS, Digital Ocean, and more.  

## Prerequisites

- Buddy account - click [here](https://buddy.works/sign-up) to sign up for a free account
- The code of your Hugo site hosted in a Git repository

{{% note %}}
Buddy supports Git repositories hosted with GitHub, GitLab, and Bitbucket. Alternatively, you can use the in-house [Buddy Git hosting](https://buddy.works/docs/version-control) or a self-hosted Git repository. 
{{% /note %}}

- A running web server with SSH access 

{{% note %}}
You can also deploy your site to managed hosting providers using [dedicated actions](https://buddy.works/actions/netlify). This guide focuses on a scenario where you [upload the files to a server using SFTP](https://buddy.works/docs/deployments/ftp-ftps).
{{% /note %}}

## Creating a deployment pipeline

Follow these steps to create a pipeline that automatically deploys a new version of your website to the server whenever you push changes to the selected branch of your project:

1. Sign in to your Buddy account and create a new project.

![Create a new project in Buddy](/images/hosting-and-deployment/deployment-with-buddy/0.png)

2. Choose your Git hosting provider and select the repository with the code of your Hugo website.

![Choosing the Git provider and repository](/images/hosting-and-deployment/deployment-with-buddy/1.png)

3. Click the `Add a new pipeline` button.
4. Create a new pipeline. Define its name, set the trigger mode to `On push`, and select the branch that triggers the pipeline execution.

![New pipeline configuration](/images/hosting-and-deployment/deployment-with-buddy/2.png)

5. Add a `Hugo` action. 
6. By default, the action comes with the `hugo` command in the terminal. Leave the action as-is to build your site to the directory defined in the config file's `publishdir` property. Click `Add this action` to finish configuration and add the action to the pipeline.

![The Hugo action](/images/hosting-and-deployment/deployment-with-buddy/3.png)

{{% note %}}
The `Hugo` action builds your site to the build directory that's saved in the pipeline filesystem. The pipeline filesystem contains the clone of your repository and all of the processed files and artifacts generated by all executed actions.
{{% /note %}}

7. Add an `SFTP` action to upload the built site to the server. 
8. Configure the action: 
    - **Source**: Pipeline filesystem
    - **Source path**: click `Browse` and select the directory with the Hugo build output
    - **Where to upload** section: specify the details of your server

![SFTP action configuration](/images/hosting-and-deployment/deployment-with-buddy/4.png)


## Next steps

You can extend this simple deployment pipeline with more actions that help you tailor the flow exactly to your needs. Here are a couple of examples of what you can do: 

### Run scripts using the SSH action

Depending on your setup, you might want or need to run commands on the server after uploading the files. Add an SSH action to the pipeline to connect to the server and run commands or execute scripts automatically instead of manually connecting to the server every time. 

![SSH action](/images/hosting-and-deployment/deployment-with-buddy/5.png)

### Add notifications to stay up-to-date

Increase the transparency of your pipeline by adding notification actions. You can send notifications to Slack, Telegram, Teams, email, and more. Add a notification action to the pipeline flow to let the selected people know that the pipeline ran successfully and the site is deployed. 

Actions in the "Run on failure" section are triggered whenever the pipeline execution fails. Add notification actions there to inform the right people that something went wrong and that they should investigate the situation. 

![Nofitications](/images/hosting-and-deployment/deployment-with-buddy/6.png)

### Run Google Lighthouse audit

Buddy offers a dedicated [Google Lighthouse action](https://buddy.works/actions/lighthouse) that allows you to check your website's score and use it to determine whether the changes are deployment-worthy or not by setting score thresholds that must be exceeded for the test to pass. 

To do so, deploy your site to a staging environment and run the Lighthouse action. Once that action passes, deploy again, but this time to your production server. 

![Lighthouse](/images/hosting-and-deployment/deployment-with-buddy/7.png)

