---
title: Ampio Knowledge Base
date: 2022-10-30

description: "Knowledge base for Ampio building automation system."
siteURL: https://help.ampio.com/
---

As a company that specialises in highly customisable smart solutions for various industries and has
been accumulating a stupendous amount of knowledge for the past 30 years, we were on a lookout for
a user-friendly platform to impart the know-how to our clients and installers. Delivering a service
that would cater for the two audiences scattered around the globe with vastly divergent needs and
expectations was a challenge.

On the one hand, we needed something that would let us educate a client with no technical knowledge
about our system in a visually appealing way.

On the other hand, our installers called for a deep dive into highly specialised subjects, needed
to see technical drawings, or have manuals available for offline use.

Over and above that, we could not overlook the fact that our internal team of editors and
maintainers of the Knowledge Base included non-programmers who had to be able to create contents and
navigate the architecture of the site just as well as those adept at coding.

We have started our journey with the following requirements:

 - ease of contribution,
 - efficient search capabilities,
 - possibility of deployment to simple shared hosting,
 - proper support for multilinguality.

## Dark ages of WordPress

Given that, first revision of the service was built upon WordPress with commercial knowledge base
plugin. The initial requirements seemed not to be exorbitant, yet we were surprised to see, how
little of the available solutions covered them all. Especially, the case of multilinguality seems to
be particularly neglected across the products.

The wordpress based products made big promises - pay some bucks, bootstrap the service in minutes,
and forget about all the developement troubles. And those promises might even be true, but only for
most generic deployments. In our case we were dealing with more and more trade-offs. And the
solution was just slow on the simple shared hosting environment we have dedicated for the job.

## Turning point

The turning point was the introduction of a new requirement - each document was to be downloadable
in a PDF format. Such functionality was not available in the plugins we owned nor in any other
plugin fulfilling ours other needs. Nobody in our team was brave enough to add such functionality to
the current stack, so we decided to start from scratch.

One of the key requirements was related to the fact, that mostly non-programmers was to be
responsible of service maintenance and content creation. Initially we were roaming in the direction
of headless CMS based solutions, but finally we made a bold move and decided to create git managed
jamstack service and see what will happen.

## Hugo to the rescue!

Hugo was our first choice of SSG. The multilinguality support was the primary feature that convinced
us. Later on, going through the documentation we were discovering new exciting features, that we
didn't know we needed at the begining.

The rich functionalities of wordpress WYSIWYG editors quickly turned out to be a curse. Quickly it
became hard to maintain formatting consistency across documents prepared by multiple contributors.
Markdown gives a lot less flexibility, but the constraints imposed by the notation ensure that each
document will be prepared in consistent way. And in the cases where Markdown was not enough, hugo
shortcodes gave us all what we needed to get the results we needed.

For the PDF generation, we utilized [custom output formats](https://gohugo.io/templates/output-formats/)
to produce intermediary documents representation, which is then consumed by our custom tool
transforming them to TeX documents, which are finally used to produce PDF output.

Custom output formats are also used to create search index. The search functionality is build upon
brilliant TNTSearch library. The search queries and results are handled by PHP snippets embedded
into static documents handled by hugo.

We have even implemented a simple REST API generated by hugo! Up until now, we have not come up with
a thing that could not be done with this stack. While in WordPress based solutions we were
struggling with things as simple as defining custom documents ordering in one of taxonomies lists
views.

Speaking of hugo, we cannot forget about the speed. At the beginning we were not considering it a
killer feature, but as our documents base grow, we appreciate it more and more. Dry-runs are not so
common - most of the time we are working on one of the documents with cache already built during the
previous hugo runs. In such scenario, hugo rebuilds the site in about a second - we consider it a
very good result.

```
                   | EN  | PL
-------------------+-----+------
  Pages            | 483 | 486
  Paginator pages  |  56 |  55
  Non-page files   | 745 | 749
  Static files     | 917 | 917
  Processed images | 487 | 490
  Aliases          |  80 |  79
  Sitemaps         |   2 |   1
  Cleaned          |   0 |   0

Total in 1096 ms
```

## Adaptation among the contributors

Our initial concerns about the adaptation of the workflow among the contributors wer well over the
top. Markdown as such is fairly straightforward and did not cause any trouble to the contributors.
The repository tracking the service sources contains Visual Studio Code project scoped configuration
defining tasks allowing to run live  server from the IDE, which is very useful for ones, that are
easily becoming frightened when faced by mighty terminal.

The basics of git workflow also got adopted easily. And finally, the build and deployment are fully
managed by CI/CD processes, so the administration of the service drills down to reviewing and
accepting of the merge requests in the git frontend. As a side effect we received full and clear
history of contributions which is well appreciated by our quality assurance auditors.

We could even say that our experiment have spread the love to git among non-programmers in our
organization!

## Summary

Hugo is the best. Definitely give it a try once faced with a challenge familiar to ours. And don't
hesitate too much, if the contributors to yours service are not that much technical - it still may
come out great!
