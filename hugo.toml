baseURL                = "https://gohugo.io/"
defaultContentLanguage = "en"
enableEmoji            = true
ignoreLogs             = ["error-missing-instagram-accesstoken"]
languageCode           = "en-us"
pluralizeListTitles    = false
timeZone               = "Europe/Oslo"
title                  = "Hugo"

# We do redirects via Netlify's _redirects file, generated by Hugo (see "outputs" below).
disableAliases = true

[pagination]
    pagerSize = 100

[services.googleAnalytics]
    ID = 'G-MBZGKNMDWC'

[outputs]
    home     = ["html", "rss", "redir", "headers"]
    section  = ["html"]
    page     = ["html"]
    taxonomy = ["html"]
    term     = ["html"]

[params]
    description = "The worldâ€™s fastest framework for building websites"
    ghrepo      = "https://github.com/gohugoio/hugoDocs/"

    [params.render_hooks.link]
        errorLevel = 'warning' # ignore (default), warning, or error (fails the build)

[languages]
    [languages.en]
        languageName = "English"
        weight       = 1

[security]
    enableInlineShortcodes = false
    [security.funcs]
        getenv = ['^HUGO_', '^REPOSITORY_URL$', '^BRANCH$']
    [security.http]
        methods = ['(?i)GET|POST']
        urls    = ['.*']

[outputFormats]
    [outputFormats.redir]
        mediatype   = "text/netlify"
        baseName    = "_redirects"
        isPlainText = true
    [outputFormats.headers]
        mediatype      = "text/netlify"
        baseName       = "_headers"
        isPlainText    = true
        notAlternative = true

[markup]
    [markup.highlight]
        style              = 'solarized-dark'
        lineNumbersInTable = true
        noClasses          = false
        wrapperClass       = 'highlight not-prose'

    [markup.goldmark.renderer]
        hardWraps = false
        unsafe    = false
        xhtml     = false

    [markup.goldmark.extensions]
        definitionList = true
        footnote       = true
        linkify        = true
        strikethrough  = true
        table          = true
        taskList       = true
        typographer    = true

        [markup.goldmark.extensions.passthrough]
            enable = true

            [markup.goldmark.extensions.passthrough.delimiters]
                block  = [['\[', '\]'], ['$$', '$$']]
                inline = [['\(', '\)']]

    [markup.goldmark.parser]
        autoHeadingID     = true
        autoHeadingIDType = "github"

        [markup.goldmark.parser.attribute]
            block = true
            title = true

[mediaTypes]
    [mediaTypes."text/netlify"]
        delimiter = ""

[module]
    [module.hugoVersion]
        min = "0.141.0"
    [[module.mounts]]
        source = "assets"
        target = "assets"
    [[module.mounts]]
        lang   = 'en'
        source = 'content/en'
        target = 'content'
    [[module.mounts]]
        source       = "hugo_stats.json"
        target       = "assets/notwatching/hugo_stats.json"
        disableWatch = true

[build]
    [build.buildStats]
        disableIDs = true
        enable     = true
    [[build.cachebusters]]
        source = "assets/notwatching/hugo_stats\\.json"
        target = "css"
    [[build.cachebusters]]
        source = "(postcss|tailwind)\\.config\\.js"
        target = "css"

[server]
    [[server.headers]]
        for = "/*"

        [server.headers.values]
            X-Frame-Options        = "DENY"
            X-XSS-Protection       = "1; mode=block"
            X-Content-Type-Options = "nosniff"
            Referrer-Policy        = "no-referrer"

    [[server.headers]]
        for = "/**.{css,js}"

[minify]
    [minify.tdewolff]
        [minify.tdewolff.html]
            keepSpecialComments = true
            keepWhitespace      = false

######## GLOBAL ITEMS TO BE SHARED WITH THE HUGO SITES ########
[menus]
    [[menus.global]]
        name       = 'News'
        weight     = 1
        identifier = 'news'
        pageRef    = '/news/'

    [[menus.global]]
        name       = 'Docs'
        weight     = 5
        identifier = 'docs'
        url        = '/documentation/'

    [[menus.global]]
        name       = 'Themes'
        weight     = 10
        identifier = 'themes'
        url        = 'https://themes.gohugo.io/'

    [[menus.global]]
        name       = 'Community'
        weight     = 150
        identifier = 'community'
        post       = 'external'
        url        = 'https://discourse.gohugo.io/'

    [[menus.global]]
        name       = 'GitHub'
        weight     = 200
        identifier = 'github'
        post       = 'external'
        url        = 'https://github.com/gohugoio/hugo'
